jQuery(function(a){a(".chz").each(function(){a(this).chosen({placeholder_text_multiple:a(this).attr("placeholder"),search_contains:!0,allow_single_deselect:!0,placeholder_text_single:"\u7559\u7a7a: \u968f\u673a\u62bd\u9009"})});var m=a("div[cqa]"),k=function(c,b){c.append(a("<div>").append(a("<input>").val(b).attr("placeholder",c.attr("ph")).attr("name",c.attr("name")).addClass("w25em mag-right v")).append(a("<button>").text("\u79fb\u9664").addClass("button btn-remove-row")))},l=function(c,b,d,f,
e){c.append(a("<div>").append(a("<label>").text(b[0]+": ").append(a("<input>").val(f).attr("placeholder",d[0]).addClass("q")).addClass("mag-right")).append(a("<label>").text(b[1]+": ").append(a("<input>").val(e).attr("placeholder",d[1]).addClass("a")).addClass("mag-right")).append(a("<button>").text("\u79fb\u9664").addClass("button btn-remove-row")).append("<br>"))},g={qa:["\u95ee\u7b54",["\u95ee\u70b9\u4ec0\u4e48\u5462?","\u600e\u4e48\u56de\u7b54\u5462?"]],fp:["\u5403\u7b54",["\u5403\u4ec0\u4e48\u597d\u5462?",
"\u7136\u540e\u600e\u4e48\u56de\u5e94?"]],fl:[["\u540d","\u5730\u5740"],["\u5982: xxx \u7684\u535a\u5ba2","\u5982: http://example.com/"]]};a("div[tts]").each(function(c,b){b=a(b);a.parseJSON(b.attr("tts")).forEach(function(a){k(b,a)})});m.each(function(c,b){b=a(b);var d=b.attr("cqid"),f=a.parseJSON(b.attr("cqa")),e;for(e in f)l(b,g[d][0],g[d][1],e,f[e])});a("body").on("click",".btn-remove-row",function(c){c.preventDefault();a(this).parent().remove()}).on("click",".btn-add-cqa",function(c){c.preventDefault();
l.apply({},[a(this).prev()].concat(g[a(this).prev().attr("cqid")]))}).on("click",".btn-add-tts",function(c){c.preventDefault();k(a(this).prev())});var h=function(c){var b={};a('[cqid="'+c+'"]>div').each(function(){b[a(".q",this).val()]=a(".a",this).val()});return encodeURIComponent(JSON.stringify(b))};a("#jx_wcc_admin").on("submit",function(a){this.qa.value=h("qa");this.feedPlay.value=h("fp");this.favLink.value=h("fl")})});
